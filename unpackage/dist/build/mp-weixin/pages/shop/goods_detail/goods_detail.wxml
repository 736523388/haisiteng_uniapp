<view class="bg-white data-v-4e7268a9"><u-toast vue-id="47412d17-1" data-ref="uToast" class="data-v-4e7268a9 vue-ref" bind:__l="__l"></u-toast><u-loading-page vue-id="47412d17-2" loading="{{!loaded}}" loading-text="My Hastens" loading-mode="semicircle" class="data-v-4e7268a9" bind:__l="__l"></u-loading-page><view hidden="{{!(loaded)}}" class="data-v-4e7268a9"><swiper class="screen-swiper square-dot data-v-4e7268a9" indicator-dots="{{true}}" circular="{{true}}" autoplay="{{detail.video==''}}" interval="5000" duration="500" indicator-color="#6b7280" indicator-active-color="#374151"><block wx:if="{{detail.video!=''}}"><swiper-item class="data-v-4e7268a9"><video style="width:100%;" src="{{detail.video}}" autoplay="{{true}}" loop="{{true}}" show-play-btn="{{false}}" controls="{{false}}" object-fit="cover" muted="{{true}}" class="data-v-4e7268a9"></video></swiper-item></block><block wx:for="{{detail.slider}}" wx:for-item="item" wx:for-index="index" wx:key="*this"><swiper-item class="data-v-4e7268a9"><view data-event-opts="{{[['tap',[['showPreviewImage',[index]]]]]}}" bindtap="__e" class="data-v-4e7268a9"><image style="width:100%;" src="{{item}}" mode="widthFix" class="data-v-4e7268a9"></image></view></swiper-item></block></swiper><view class="bg-white padding-sm data-v-4e7268a9"><view class="data-v-4e7268a9">{{detail.name}}</view><view class="data-v-4e7268a9"><text class="text-xs data-v-4e7268a9">¥</text><text class="text-xl text-bold data-v-4e7268a9">{{checkspec.price_selling?checkspec.price_selling:detail.price_selling}}</text><text hidden="{{!(!checkspec.id)}}" class="text-sm data-v-4e7268a9">起</text><text hidden="{{!(checkspec.id&&checkspec.integral_num>0||detail.integral_num>0)}}" style="margin-left:4rpx;" class="data-v-4e7268a9">{{"+"+(checkspec.integral_num?checkspec.integral_num:detail.integral_num)+"积分"}}</text></view><view class="text-sm text-desc data-v-4e7268a9">{{detail.remark}}</view></view><view class="margin-top-sm data-v-4e7268a9" style="padding-bottom:160rpx;"><rich-text style="font-size:0;" nodes="{{detail.content}}" class="data-v-4e7268a9"></rich-text></view></view><view class="bg-white flex align-center data-v-4e7268a9" style="position:fixed;bottom:0;width:100%;padding-bottom:env(safe-area-inset-bottom);z-index:10080;"><view style="position:relative;width:100rpx;padding:10rpx 0;" class="data-v-4e7268a9"><button class="u-reset-button custom-button data-v-4e7268a9" open-type="contact" hover-class="bg-gray"><u-icon vue-id="47412d17-3" name="chat" size="52rpx" label="客服" labelPos="bottom" labelSize="20rpx" space="0" class="data-v-4e7268a9" bind:__l="__l"></u-icon></button></view><view style="position:relative;width:100rpx;padding:10rpx 0;" class="data-v-4e7268a9"><button class="u-reset-button custom-button data-v-4e7268a9" hover-class="bg-gray" data-event-opts="{{[['tap',[['gotoShopCart',['$event']]]]]}}" bindtap="__e"><u-icon vue-id="47412d17-4" name="shopping-cart" size="52rpx" label="购物车" labelPos="bottom" labelSize="20rpx" space="0" class="data-v-4e7268a9" bind:__l="__l"></u-icon></button><u-badge vue-id="47412d17-5" numberType="ellipsis" max="{{99}}" bgColor="#ff0000" type="error" value="{{goods_cart_number}}" offset="{{[0,2]}}" absolute="{{true}}" class="data-v-4e7268a9" bind:__l="__l"></u-badge></view><view style="flex:1;padding:10rpx;" class="data-v-4e7268a9"><view style="border:none;display:inline-block;width:50%;" class="data-v-4e7268a9"><u-button vue-id="47412d17-6" type="primary" text="加入购物车" color="#0B1839" custom-style="{{$root.a0}}" data-index="{{1}}" data-event-opts="{{[['tap',[['showSpecModal',['$event']]]]]}}" bindtap="__e" class="data-v-4e7268a9" bind:__l="__l"></u-button></view><view style="border:none;display:inline-block;width:50%;" class="data-v-4e7268a9"><u-button vue-id="47412d17-7" type="primary" text="立即购买" color="#000" custom-style="{{$root.a1}}" data-index="{{2}}" data-event-opts="{{[['tap',[['showSpecModal',['$event']]]]]}}" bindtap="__e" class="data-v-4e7268a9" bind:__l="__l"></u-button></view></view></view><uni-popup vue-id="47412d17-8" type="bottom" data-ref="spec_popup" data-event-opts="{{[['^change',[['onSpecPopupChange']]]]}}" bind:change="__e" class="data-v-4e7268a9 vue-ref" bind:__l="__l" vue-slots="{{['default']}}"><view class="spec-box bg-white data-v-4e7268a9" style="padding:30rpx 30rpx 120rpx 30rpx;margin-bottom:env(safe-area-inset-bottom);"><view class="flex align-center data-v-4e7268a9"><u-image vue-id="{{('47412d17-9')+','+('47412d17-8')}}" src="{{detail.cover}}" height="224rpx" width="224rpx" class="data-v-4e7268a9" bind:__l="__l"></u-image><view class="flex padding-right-xl margin-left-sm flex-direction justify-end data-v-4e7268a9" style="height:224rpx;"><view style="margin-bottom:auto;" class="data-v-4e7268a9">{{detail.name}}</view><view class="data-v-4e7268a9"><text class="data-v-4e7268a9">¥</text><text class="text-lg data-v-4e7268a9">{{checkspec.price_selling?checkspec.price_selling:detail.price_selling}}</text><text hidden="{{!(!checkspec.id)}}" class="text-sm data-v-4e7268a9">起</text><text hidden="{{!(checkspec.id&&checkspec.integral_num>0||detail.integral_num>0)}}" style="margin-left:4rpx;" class="data-v-4e7268a9">{{"+"+(checkspec.integral_num?checkspec.integral_num:detail.integral_num)+"积分"}}</text><text class="text-sm data-v-4e7268a9" style="margin-left:6rpx;">/ 件</text></view><view class="data-v-4e7268a9"><text class="text-sm text-desc data-v-4e7268a9">{{"剩余"+(checkspec.id?checkspec.stock_total-checkspec.stock_sales:detail.stock_total-detail.stock_sales)+"件"}}</text></view></view></view><block wx:for="{{$root.l0}}" wx:for-item="item" wx:for-index="index" wx:key="spec"><view style="margin-top:8rpx;" class="data-v-4e7268a9"><block wx:if="{{$root.g0}}"><view class="text-lg data-v-4e7268a9">{{''+($root.g1==1?'选择规格':item.$orig.name)+''}}</view></block><block wx:if="{{item.g2}}"><view class="flex flex-wrap data-v-4e7268a9" style="margin-top:8rpx;"><block wx:for="{{item.$orig.list}}" wx:for-item="value" wx:for-index="key" wx:key="spec_item"><view hidden="{{!(value.show)}}" class="{{['spec_item','text-df','data-v-4e7268a9',(value.is_seleted===true)?'active':'',(value.is_seleted!==true&&value.is_elective===false)?'disabled':'']}}" data-key1="{{index}}" data-key2="{{key}}" data-event-opts="{{[['tap',[['setSpecSeleted',['$event']]]]]}}" bindtap="__e">{{''+value.name+''}}</view></block></view></block></view></block><view class="flex align-center margin-tb-sm justify-between data-v-4e7268a9"><view class="text-lg data-v-4e7268a9">数量</view><view data-event-opts="{{[['tap',[['',['$event']]]]]}}" catchtap="__e" class="data-v-4e7268a9"><u-number-box vue-id="{{('47412d17-10')+','+('47412d17-8')}}" min="{{1}}" max="{{maxNum}}" integer="{{true}}" button-size="{{24}}" value="{{Num}}" data-event-opts="{{[['^change',[['onNumChange']]],['^input',[['__set_model',['','Num','$event',[]]]]]]}}" bind:change="__e" bind:input="__e" class="data-v-4e7268a9" bind:__l="__l"></u-number-box></view></view></view></uni-popup></view>