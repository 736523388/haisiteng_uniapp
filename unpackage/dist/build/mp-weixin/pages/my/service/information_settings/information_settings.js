(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/my/service/information_settings/information_settings"],{"12c3":function(e,t,n){"use strict";var r=n("7c86"),a=n.n(r);a.a},"4ca8":function(e,t,n){"use strict";(function(e,t){var r=n("4ea4");n("be30");r(n("66fd"));var a=r(n("9dfa"));e.__webpack_require_UNI_MP_PLUGIN__=n,t(a.default)}).call(this,n("bc2e")["default"],n("543d")["createPage"])},"7c86":function(e,t,n){},"8d72":function(e,t,n){"use strict";(function(e){var r=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n("2eee")),i=r(n("c973")),o=r(n("448a")),s=r(n("9523")),u=n("26cb"),c=n("db75");function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,s.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var m={data:function(){return{checked:!0,change:"",id:"",name:"",telephone:"",region:[],address:"",loading:!1,loaded:!1,items:[],multiIndex:[0,0,0],multiIds:[],newArr:[[],[],[]]}},computed:l({},(0,u.mapState)({current_address:function(e){return e.store_user_address.address_current}})),onLoad:function(e){var t=this;this.change=e.change||"",this.id=e.id||"",(0,c.checkLogin)((function(){t.loadData()}))},methods:{bindMutilPickerChange:function(e){var t=this;console.log(e),console.log(this.multiIndex);this.items.map((function(e,n){t.multiIndex[0]===n&&(t.multiIds[0]=l({},e),e.subs.map((function(e,n){t.multiIndex[1]===n&&(t.multiIds[1]=l({},e),e.subs.map((function(e,n){t.multiIndex[2]===n&&(t.multiIds[2]=l({},e))})))})))})),console.log(this.multiIds),this.$forceUpdate()},bindMutilPickerColumnChange:function(e){var t=this,n={newArr:this.newArr,multiIndex:this.multiIndex};n.multiIndex[e.detail.column]=e.detail.value;var r=function(){var e=[],r=[];t.items.map((function(t,a){n.multiIndex[0]===a&&t.subs.map((function(t,a){e.push(t.name),n.multiIndex[1]===a&&t.subs.map((function(e,t){r.push(e.name)}))}))})),n.newArr[1]=e,n.newArr[2]=r};switch(e.detail.column){case 0:n.multiIndex[1]=0,n.multiIndex[2]=0,r();break;case 1:n.multiIndex[2]=0,r();break;case 2:r();break}this.newArr=n.newArr,this.multiIndex=(0,o.default)(n.multiIndex),this.$forceUpdate()},buildRegions:function(e){this.items=e;var t={arr:[],arr1:[],arr2:[],arr3:[]};e.map((function(e,n){t.arr1.push(e.name),t.arr2.length<=0&&e.subs.map((function(e,n){t.arr2.push(e.name),t.arr3.length<=0&&e.subs.map((function(e,n){t.arr3.push(e.name)}))}))})),t.arr[0]=t.arr1,t.arr[1]=t.arr2,t.arr[2]=t.arr3,this.newArr=t.arr,console.log(this.newArr),console.log(this.multiIndex)},loadData:function(){var e=this;return(0,i.default)(a.default.mark((function t(){var n,r,i;return a.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c.axios.get("/api/v1/goods/region");case 3:if(n=t.sent,1===n.code){t.next=6;break}throw new Error("城市数据获取失败");case 6:if(e.buildRegions(n.data),!e.id){t.next=19;break}return t.next=10,c.axios.get("/api/v1/admin/store/user_address/"+e.id);case 10:if(r=t.sent,1===r.code){t.next=13;break}throw new Error("收货地址获取失败");case 13:e.name=r.data.name,e.phone=r.data.phone,e.address=r.data.address,i={multiIndex:(0,o.default)(e.multiIndex),multiIds:(0,o.default)(e.multiIds),arr2:[],arr3:[]},e.items.map((function(e,t){e.name===r.data.province&&(i.multiIndex[0]=t,i.multiIds[0]=l({},e),e.subs.map((function(e,t){i.arr2.push(e.name),e.name===r.data.city&&(i.multiIndex[1]=t,i.multiIds[1]=l({},e),e.subs.map((function(e,t){i.arr3.push(e.name),e.name===r.data.area&&(i.multiIndex[2]=t,i.multiIds[2]=l({},e))})))})))})),3===i.multiIds.length&&(e.multiIndex=i.multiIndex,e.multiIds=i.multiIds,e.newArr[1]=i.arr2,e.newArr[2]=i.arr3,e.$forceUpdate());case 19:e.loaded=!0,t.next=25;break;case 22:t.prev=22,t.t0=t["catch"](0),console.log(t.t0);case 25:case"end":return t.stop()}}),t,null,[[0,22]])})))()},deleteAddress:function(){var t=this;e.showModal({title:"提示",content:"确定删除此地址?",showCancel:!0,cancelText:"取消",cancelColor:"#000030",confirmText:"确定",confirmColor:"#3CC51F",success:function(n){n.confirm&&c.axios.delete("/api/v1/admin/store/user_address/"+t.id).then((function(n){1===n.code?(console.log("触发了清除地址"),Number(t.id)===t.current_address.id&&t.$store.commit("store_user_address/clean_store_user_address"),t.$u.toast(n.info,1200),setTimeout((function(){e.navigateBack()}),1200)):e.$u.toast("网络错误，请稍后再试！")})).catch((function(t){e.$u.toast("网络错误，请稍后再试！")}))}})},submit:function(){var t=this;if(!1!==this.loading)return!1;this.loading=!0,c.axios.post("/api/v1/admin/store/user_address",{id:this.id,name:this.name,phone:this.phone,address:this.address,province:this.multiIds[0].name,city:this.multiIds[1].name,area:this.multiIds[2].name}).then((function(n){1===n.code?(t.$u.toast(n.info,1200),setTimeout((function(){""!==t.change?(t.$store.commit("store_user_address/choose_store_user_address",{address:n.data}),e.navigateBack({delta:2})):e.navigateBack()}),1200)):t.$u.toast(n.info,1200)})).catch((function(e){t.$u.toast("出错了，请稍后重试!",1200)})).finally((function(){t.loading=!1}))}}};t.default=m}).call(this,n("543d")["default"])},9906:function(e,t,n){"use strict";n.r(t);var r=n("8d72"),a=n.n(r);for(var i in r)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(i);t["default"]=a.a},"9dfa":function(e,t,n){"use strict";n.r(t);var r=n("d545"),a=n("9906");for(var i in a)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(i);n("12c3");var o=n("f0c5"),s=Object(o["a"])(a["default"],r["b"],r["c"],!1,null,"6433139b",null,!1,r["a"],void 0);t["default"]=s.exports},d545:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return r}));var r={uLoadingPage:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-loading-page/u-loading-page")]).then(n.bind(null,"8282"))},uIcon:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-icon/u-icon")]).then(n.bind(null,"4a55"))},uButton:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-button/u-button")]).then(n.bind(null,"4005"))}},a=function(){var e=this.$createElement,t=(this._self._c,this.loaded?this.multiIds.length:null);this.$mp.data=Object.assign({},{$root:{g0:t}})},i=[]}},[["4ca8","common/runtime","common/vendor"]]]);